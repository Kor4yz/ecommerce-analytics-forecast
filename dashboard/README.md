# üìä Dashboard ‚Äî Ecommerce Analytics Forecast

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è BI-–ø–∞–Ω–µ–ª—å –≤ **Yandex DataLens** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–¥–∞–∂, –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞.  
–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ ClickHouse (–≤–∏—Ç—Ä–∏–Ω—ã `v_daily_kpi`, `v_orders_enriched`, `v_top_products`, `v_cohorts_retention` –∏ –¥—Ä.)

---

## üß≠ –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—à–±–æ—Ä–¥–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ:** `Ecommerce-analytics-forecast`  
**–ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö:** 2010 ‚Äì 2011  
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** ClickHouse, —Å—Ö–µ–º–∞ `ecommerce`

–î–∞—à–±–æ—Ä–¥ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **—Ç—Ä—ë—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤** üëá

| –†–∞–∑–¥–µ–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è / –≤–∏—Ç—Ä–∏–Ω—ã |
|---------|-----------|--------------------------|
| üìà **–ü—Ä–æ–¥–∞–∂–∏ –∏ GMV** | –ö–ª—é—á–µ–≤—ã–µ KPI –∏ –¥–∏–Ω–∞–º–∏–∫–∞ GMV –ø–æ –¥–Ω—è–º –∏ –º–µ—Å—è—Ü–∞–º | `v_daily_kpi`, `v_gmv_by_country` |
| üë• **–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏** | –ù–æ–≤—ã–µ vs –≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–µ, —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–≥–æ—Ä—Ç | `v_orders_enriched`, `v_cohorts_retention` |
| üì¶ **–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | AOV, ARPU, —Ç–æ–ø-SKU, GMV vs QTY | `v_top_products`, `v_sku_gmv_qty` |

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (KPI-–ø–∞–Ω–µ–ª—å)

| –ú–µ—Ç—Ä–∏–∫–∞ | –§–æ—Ä–º—É–ª–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|----------|-------------|
| **GMV** | `sum(revenue)` | –í–∞–ª–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ |
| **Orders** | `countDistinct(order_id)` | –ö–æ–ª-–≤–æ –∑–∞–∫–∞–∑–æ–≤ |
| **Buyers** | `countDistinct(user_id)` | –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ |
| **AOV** | `sum(revenue)/countDistinct(order_id)` | –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ |
| **ARPU** | `sum(revenue)/countDistinct(user_id)` | –°—Ä–µ–¥–Ω—è—è –≤—ã—Ä—É—á–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è |
| **New buyer share** | `new_buyers / buyers` | –î–æ–ª—è –Ω–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π |

> üí° *–§–æ—Ä–º—É–ª—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –≤–∏—Ç—Ä–∏–Ω–æ–π `v_daily_kpi` –≤ ClickHouse.*

---

## üìÖ –§–∏–ª—å—Ç—Ä—ã (—Å–µ–ª–µ–∫—Ç–æ—Ä—ã)

–§–∏–ª—å—Ç—Ä—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã **–≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏**, –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω—ã –ø–æ–¥ —Ç—ë–º–Ω—É—é —Ç–µ–º—É –¥–∞—à–±–æ—Ä–¥–∞:

| –§–∏–ª—å—Ç—Ä | –¢–∏–ø | –ü–æ–ª–µ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
|--------|------|------|-----------|
| üìÖ **–ü–µ—Ä–∏–æ–¥** | –ö–∞–ª–µ–Ω–¥–∞—Ä—å (–¥–∏–∞–ø–∞–∑–æ–Ω) | `order_date` | –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ (2010‚Äì2011) |
| üåç **–°—Ç—Ä–∞–Ω–∞** | –°–ø–∏—Å–æ–∫ (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä) | `country` | –í—ã–±–æ—Ä –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω |
| üë§ **–¢–∏–ø –ø–æ–∫—É–ø–∞—Ç–µ–ª—è** | –°–ø–∏—Å–æ–∫ | `is_returning` | 0 ‚Üí –Ω–æ–≤—ã–µ, 1 ‚Üí –≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–µ |

> –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ KPI –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤.

---

## üìä –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–∞–Ω–µ–ª–∏

| –ë–ª–æ–∫ | –¢–∏–ø –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ | –ö–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–∏–∏ / –ø–æ–ª—è |
|------|------------------|------------------------|
| **–õ–∏–Ω–∏—è GMV –ø–æ –¥–Ω—è–º** | –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ | `gmv`, `—Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ`, `–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –∏—Ç–æ–≥ GMV` |
| **GMV –ø–æ –º–µ—Å—è—Ü–∞–º** | –õ–∏–Ω–µ–π–Ω—ã–π | `gmv` (–∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ `month`) |
| **–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏: –Ω–æ–≤—ã–µ vs –≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–µ** | –û–±–ª–∞—Å—Ç–Ω–∞—è –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è (100%) | `buyers_new`, `buyers_ret` |
| **–¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è** | –¢–∞–±–ª–∏—Ü–∞ (heatmap) | `cohort_month √ó month_n √ó retained_share` |
| **GMV vs QTY** | –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–æ–ª–±—á–∞—Ç—ã–π | `gmv`, `quantity` (–æ—Å—å Y2) |
| **AOV –∏ ARPU** | –õ–∏–Ω–µ–π–Ω–∞—è | `aov`, `arpu` |
| **–¢–æ–ø SKU –ø–æ GMV** | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç–æ–ª–±—á–∞—Ç—ã–π | `gmv` (Top N –ø–æ SKU) |
| **–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π** | –õ–∏–Ω–µ–π–Ω–∞—è | `buyers_total`, `buyers_new`, `buyers_ret` |

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å

–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ DataLens  
–ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞:
- –û—Å–Ω–æ–≤–Ω–æ–π (`#00C8FF`) ‚Äî KPI –∏ –ª–∏–Ω–∏–∏ GMV  
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:  
  - ARPU ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π `#A855F7`  
  - AOV ‚Äî –∂—ë–ª—Ç–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π `#F59E0B`  
  - New buyers ‚Äî –æ—Ä–∞–Ω–∂–µ–≤—ã–π `#FB923C`  
  - Returning ‚Äî —Å–∏–Ω–∏–π `#3B82F6`  
  - Retention heatmap ‚Äî –æ—Ç `#1E3A8A` –¥–æ `#3B82F6`  

> –í—Å–µ —Ü–≤–µ—Ç–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã —Å –æ–±—â–∏–º —Å—Ç–∏–ª–µ–º –ø—Ä–æ–µ–∫—Ç–∞ (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ ClickHouse UI + DataLens).

---

## üßÆ –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è (DataLens)

| –ò–º—è | –§–æ—Ä–º—É–ª–∞ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----|----------|-------------|
| `gmv_cum` | `runningSum(sum(gmv))` | –ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π –∏—Ç–æ–≥ GMV |
| `gmv_ma7` | `movingAvg(sum(gmv), 7)` | –°–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ –∑–∞ 7 –¥–Ω–µ–π |
| `buyers_new` | `countDistinctIf(user_id, order_date = first_order_date)` | –ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ |
| `buyers_ret` | `buyers_total - buyers_new` | –í–æ–∑–≤—Ä–∞—Ç–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ |
| `new_buyer_share` | `buyers_new / buyers_total` | –î–æ–ª—è –Ω–æ–≤—ã—Ö |
| `aov` | `sum(revenue) / nullIf(countDistinct(order_id), 0)` | –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ |
| `arpu` | `sum(revenue) / nullIf(countDistinct(user_id), 0)` | –°—Ä–µ–¥–Ω—è—è –≤—ã—Ä—É—á–∫–∞ |

---
## üèÅ –°—Ç–∞—Ç—É—Å

‚úÖ –ì–æ—Ç–æ–≤ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏  
üïí –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `25.10.2025`

---

¬© 2025 ‚Äî *Kor4yz / Ecommerce Analytics Forecast*
